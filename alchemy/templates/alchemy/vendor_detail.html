{% extends 'base.html' %}

{% block title %}{{ vendor.name }}{% endblock %}

{% block content %}
<h1>{{ vendor.name }}</h1>

<div class="d-flex align-items-center mb-4">
    {% if vendor.image %}
        <img src="{{ vendor.image.url }}" alt="{{ vendor.name }}" width="100" height="100" style="border-radius: 8px; margin-right: 20px;" />
    {% endif %}
    <div>
        <p><strong>Profession:</strong> {{ vendor.profession }}</p>
        <p><strong>Location:</strong> {{ vendor.city }}, {{ vendor.building }}</p>
        <p><strong>Available Gold:</strong> {{ vendor.available_gold }}</p>
    </div>
</div>

<h2>Inventory</h2>
{% if inventory %}
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>Image</th>
                <th>Ingredient</th>
                <th>Weight</th>
                <th>Value</th>
                <th>Quantity</th>
            </tr>
        </thead>
        <tbody>
            {% for item in inventory %}
                <tr>
                    <td>
                        {% if item.ingredient.image %}
                            <img src="{{ item.ingredient.image.url }}"
                                 alt="{{ item.ingredient.name }}"
                                 width="50"
                                 height="50"
                                 style="border-radius: 4px;" />
                        {% else %}
                            <span>No Image</span>
                        {% endif %}
                    </td>
                    <td>{{ item.ingredient.name }}</td>
                    <td>{{ item.ingredient.weight }}</td>
                    <td>{{ item.ingredient.value }}</td>
                    <td>{{ item.quantity }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% else %}
    <p>This vendor has no inventory available.</p>
{% endif %}

<a href="/" class="btn btn-secondary mt-4">Back to Home</a>
{% endblock %}
